# üìù –ö—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫: –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

## üéØ –¶–µ–ª—å
–ó–∞–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤—Å–µ—Ö, –∫—Ä–æ–º–µ –≤–∞—Å, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä.

---

## ‚úÖ –°–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π (7 —à–∞–≥–æ–≤)

### 1Ô∏è‚É£ –£–∑–Ω–∞—Ç—å —Å–≤–æ–π IP –∞–¥—Ä–µ—Å
- –û—Ç–∫—Ä–æ–π—Ç–µ https://ifconfig.me –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ü–∏—Ñ—Ä—ã (—ç—Ç–æ –≤–∞—à IP)
- –ó–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ

### 2Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- –û—Ç–∫—Ä–æ–π—Ç–µ –¢–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ Mac
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `ssh root@37.1.212.51`
- –ü–∞—Ä–æ–ª—å: `LEJ6U5chSK`

### 3Ô∏è‚É£ –ó–∞–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤—Å–µ—Ö, –∫—Ä–æ–º–µ –≤–∞—Å
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_IP` –Ω–∞ IP –∏–∑ —à–∞–≥–∞ 1):
  ```bash
  ufw allow from –í–ê–®_IP to any port 8080 proto tcp comment "TinyProxy access"
  ufw deny 8080/tcp
  ufw reload
  ```

### 4Ô∏è‚É£ –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–º–∞–∫—Å–∏–º—É–º 20)
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `nano /etc/tinyproxy/tinyproxy.conf`
- –ù–∞–π–¥–∏—Ç–µ `MaxClients` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `20`
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+O, Enter, Ctrl+X)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `systemctl restart tinyproxy`

### 5Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –∞—Ç–∞–∫ (fail2ban)
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
  ```bash
  apt-get update
  apt-get install fail2ban -y
  ```
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∫–æ–º–∞–Ω–¥—ã –≤ –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `systemctl restart fail2ban`

### 6Ô∏è‚É£ –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–º–∞–∫—Å–∏–º—É–º 512 –ú–ë)
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `systemctl edit tinyproxy`
- –í—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–º. –ø–æ–ª–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `systemctl daemon-reload && systemctl restart tinyproxy`

### 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `ss -tn | grep :8080 | wc -l` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 20)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–º—è—Ç—å: `free -h` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 80%)
- –í—ã–π–¥–∏—Ç–µ: `exit`

---

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
**30-60 –º–∏–Ω—É—Ç**

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª: `–ß–¢–û_–ù–£–ñ–ù–û_–°–î–ï–õ–ê–¢–¨.md`

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å
- –ï—Å–ª–∏ –≤–∞—à IP –º–µ–Ω—è–µ—Ç—Å—è, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥ 3 —Å –Ω–æ–≤—ã–º IP
- –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é: `cp /etc/tinyproxy/tinyproxy.conf /etc/tinyproxy/tinyproxy.conf.backup`
