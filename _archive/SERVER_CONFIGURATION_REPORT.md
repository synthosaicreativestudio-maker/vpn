# üìã –ü–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 12 —è–Ω–≤–∞—Ä—è 2026  
**–°–µ—Ä–≤–µ—Ä:** 37.1.212.51 (VPS, –°–®–ê)  
**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu 22.04.4 LTS

---

## üéØ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –¶–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
–°–æ–∑–¥–∞–Ω–∏–µ VPN —Å–µ—Ä–≤–µ—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ VLESS + REALITY –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Å–∞–π—Ç (Microsoft).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚úÖ –ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å TinyProxy –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VLESS + REALITY –Ω–∞ –ø–æ—Ä—Ç—É 443
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (Amnezia, v2rayNG, Shadowrocket –∏ –¥—Ä.)

---

## üñ•Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **IP –∞–¥—Ä–µ—Å:** 37.1.212.51
- **SSH –¥–æ—Å—Ç—É–ø:** root@37.1.212.51
- **–ü–∞—Ä–æ–ª—å SSH:** LEJ6U5chSK
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu 22.04.4 LTS
- **–Ø–¥—Ä–æ:** Linux 5.15.0-101-generic
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** x86_64

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ü–û:
- **Docker:** 29.1.4
- **Docker Compose:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- **Marzban:** –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è (gozargah/marzban:latest)
- **Xray Core:** 24.12.31
- **TinyProxy:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å

---

## üîå –ü–æ—Ä—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã

### –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä—Ç—ã:

| –ü–æ—Ä—Ç | –ü—Ä–æ—Ç–æ–∫–æ–ª | –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|----------|--------|------------|--------|
| **22** | TCP | SSH (sshd) | –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (0.0.0.0:22) |
| **443** | TCP | Xray (VLESS + REALITY) | VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (:::443) |
| **8080** | TCP | TinyProxy | HTTP –ø—Ä–æ–∫—Å–∏ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å) | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (0.0.0.0:8080) |
| **8000** | TCP | Marzban Web UI (Python/Uvicorn) | –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (127.0.0.1:8000) |
| **1080** | TCP | Xray Shadowsocks | Shadowsocks TCP | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (:::1080) |
| **31338** | TCP | Xray API | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API Xray | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (127.0.0.1:31338) |
| **44455** | UDP | Amnezia AWG | –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π VPN —Å–µ—Ä–≤–∏—Å | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (0.0.0.0:44455) |
| **49576** | UDP | Amnezia WireGuard | –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π VPN —Å–µ—Ä–≤–∏—Å | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (0.0.0.0:49576) |
| **53** | UDP | systemd-resolved | DNS —Ä–µ–∑–æ–ª–≤–µ—Ä | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (127.0.0.53:53) |

### –î–µ—Ç–∞–ª–∏ –ø–æ—Ä—Ç–æ–≤:

#### –ü–æ—Ä—Ç 443 (VLESS + REALITY):
- **–ü—Ä–æ—Ü–µ—Å—Å:** xray (PID: 614977)
- **–°–ª—É—à–∞–µ—Ç –Ω–∞:** :::443 (IPv6, –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** VLESS over TCP
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** REALITY
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞:** www.microsoft.com:443
- **Flow:** xtls-rprx-vision
- **–°—Ç–∞—Ç—É—Å —Ñ–∞–π—Ä–≤–æ–ª–∞:** UFW –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω (–ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω)

#### –ü–æ—Ä—Ç 1080 (Shadowsocks TCP):
- **–ü—Ä–æ—Ü–µ—Å—Å:** xray (PID: 614977)
- **–°–ª—É—à–∞–µ—Ç –Ω–∞:** :::1080 (IPv6)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** Shadowsocks
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (—Å–æ–∑–¥–∞–Ω Marzban –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

#### –ü–æ—Ä—Ç 8080 (TinyProxy):
- **–ü—Ä–æ—Ü–µ—Å—Å:** tinyproxy (PID: 473255, —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å)
- **–°–ª—É—à–∞–µ—Ç –Ω–∞:** 0.0.0.0:8080 (–≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** HTTP –ø—Ä–æ–∫—Å–∏ –¥–ª—è MarketingBot
- **–õ–æ–≥–∏–Ω:** root
- **–ü–∞—Ä–æ–ª—å:** LEJ6U5chSK
- **URL:** http://root:LEJ6U5chSK@37.1.212.51:8080
- **–°—Ç–∞—Ç—É—Å:** –ù–µ –∏–∑–º–µ–Ω—è–ª—Å—è, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

#### –ü–æ—Ä—Ç 8000 (Marzban Web UI):
- **–ü—Ä–æ—Ü–µ—Å—Å:** Python (PID: 614882, Uvicorn)
- **–°–ª—É—à–∞–µ—Ç –Ω–∞:** 127.0.0.1:8000 (—Ç–æ–ª—å–∫–æ localhost)
- **–î–æ—Å—Ç—É–ø:** –ß–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å
- **–ö–æ–º–∞–Ω–¥–∞ —Ç—É–Ω–Ω–µ–ª—è:** `ssh -L 8000:127.0.0.1:8000 root@37.1.212.51`
- **URL:** http://localhost:8000 (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—É–Ω–Ω–µ–ª—è)

#### –ü–æ—Ä—Ç 31338 (Xray API):
- **–ü—Ä–æ—Ü–µ—Å—Å:** xray (PID: 614977)
- **–°–ª—É—à–∞–µ—Ç –Ω–∞:** 127.0.0.1:31338 (—Ç–æ–ª—å–∫–æ localhost)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ —Å —Å–µ—Ä–≤–µ—Ä–∞

---

## üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

1. **marzban-marzban-1**
   - **–û–±—Ä–∞–∑:** gozargah/marzban:latest
   - **–°—Ç–∞—Ç—É—Å:** Running
   - **–°–µ—Ç—å:** host mode
   - **Volumes:**
     - `/var/lib/marzban:/var/lib/marzban` (–¥–∞–Ω–Ω—ã–µ)
     - `/opt/marzban/.env` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
   - **–ü–æ—Ä—Ç—ã:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç network_mode: host

2. **amnezia-wireguard**
   - **–û–±—Ä–∞–∑:** amnezia-wireguard
   - **–°—Ç–∞—Ç—É—Å:** Running
   - **–ü–æ—Ä—Ç—ã:** 0.0.0.0:49576->49576/udp

3. **amnezia-awg**
   - **–û–±—Ä–∞–∑:** amnezia-awg
   - **–°—Ç–∞—Ç—É—Å:** Running
   - **–ü–æ—Ä—Ç—ã:** 0.0.0.0:44455->44455/udp

---

## üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è VLESS + REALITY

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

**Inbound –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```json
{
  "tag": "VLESS-Reality-Microsoft",
  "protocol": "vless",
  "listen": "0.0.0.0",
  "port": 443,
  "settings": {
    "clients": [
      {
        "id": "eb4a1cf2-4235-4b0a-83b2-0e5a298389ed",
        "flow": "xtls-rprx-vision"
      }
    ],
    "decryption": "none"
  },
  "streamSettings": {
    "network": "tcp",
    "security": "reality",
    "realitySettings": {
      "show": false,
      "dest": "www.microsoft.com:443",
      "serverNames": ["www.microsoft.com", "microsoft.com"],
      "privateKey": "4PjME9JBUmV-Td9rZGS9l0147TXqMJtcU_f2iG-PVxA",
      "publicKey": "n5E8KcFHjef-ZC2mKjzkVldLJiLrsjfpE1Z-XmLfxH4",
      "shortIds": [""]
    }
  }
}
```

### –ö–ª—é—á–∏ REALITY:

- **Private Key:** `4PjME9JBUmV-Td9rZGS9l0147TXqMJtcU_f2iG-PVxA`
- **Public Key:** `n5E8KcFHjef-ZC2mKjzkVldLJiLrsjfpE1Z-XmLfxH4`
- **–¢–∏–ø:** x25519 (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `xray x25519`)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏:

- **SNI (Server Name Indication):** www.microsoft.com
- **Dest (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥):** www.microsoft.com:443
- **Fingerprint:** chrome
- **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å REALITY:** false (—Å–∫—Ä—ã—Ç—ã–π —Ä–µ–∂–∏–º)

---

## üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1:**
- **UUID:** eb4a1cf2-4235-4b0a-83b2-0e5a298389ed
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** VLESS
- **Flow:** xtls-rprx-vision
- **Inbound:** VLESS-Reality-Microsoft
- **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–µ–Ω
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ù–µ—Ç (–±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –∏ –≤—Ä–µ–º—è)

---

## üîó –°—Å—ã–ª–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏ vless://:

```
vless://eb4a1cf2-4235-4b0a-83b2-0e5a298389ed@37.1.212.51:443?type=tcp&security=reality&sni=www.microsoft.com&pbk=n5E8KcFHjef-ZC2mKjzkVldLJiLrsjfpE1Z-XmLfxH4&fp=chrome&flow=xtls-rprx-vision#VLESS-Reality
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Å—ã–ª–∫–∏:
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** vless
- **UUID:** eb4a1cf2-4235-4b0a-83b2-0e5a298389ed
- **–ê–¥—Ä–µ—Å:** 37.1.212.51
- **–ü–æ—Ä—Ç:** 443
- **–¢–∏–ø:** tcp
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** reality
- **SNI:** www.microsoft.com
- **Public Key:** n5E8KcFHjef-ZC2mKjzkVldLJiLrsjfpE1Z-XmLfxH4
- **Fingerprint:** chrome
- **Flow:** xtls-rprx-vision

---

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### Marzban:
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `/opt/marzban/`
  - `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
  - `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–î–∞–Ω–Ω—ã–µ:** `/var/lib/marzban/`
  - `xray_config.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª)
  - `db.sqlite3` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `xray_config.json.backup.*` - —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### TinyProxy:
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `/etc/tinyproxy/tinyproxy.conf`
- **–°—Ç–∞—Ç—É—Å:** –°–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å (systemd)
- **–õ–æ–≥–∏:** `/var/log/tinyproxy/`

### –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray:** `/var/lib/marzban/xray_config.json.backup.20260112_131539`

---

## üî• –§–∞–π—Ä–≤–æ–ª (UFW)

### –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã:

```
443/tcp    ALLOW    Anywhere    # VLESS + REALITY
443/tcp    ALLOW    Anywhere (v6)    # VLESS + REALITY (IPv6)
8000/tcp   ALLOW    Anywhere    # Marzban Web UI (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```

### –°—Ç–∞—Ç—É—Å:
- **–ê–∫—Ç–∏–≤–µ–Ω:** ‚úÖ –î–∞ (enabled)
- **–ü–æ–ª–∏—Ç–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** Deny (–∑–∞–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã:**
  - 22/tcp - SSH
  - 443/tcp - VLESS + REALITY VPN
  - 8080/tcp - TinyProxy

### –ü—Ä–∞–≤–∏–ª–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞:
```
Status: active
Logging: on (low)
Default: deny (incoming), allow (outgoing), deny (routed)

To                         Action      From
--                         ------      ----
22/tcp                     ALLOW IN    Anywhere      # SSH
443/tcp                    ALLOW IN    Anywhere      # VLESS + REALITY VPN
8080/tcp                   ALLOW IN    Anywhere      # TinyProxy
8000/tcp                   ALLOW IN    Anywhere      # Marzban Web UI
62050/tcp                  ALLOW IN    Anywhere      # Marzban (—Ä–µ–∑–µ—Ä–≤)
62051/tcp                  ALLOW IN    Anywhere      # Marzban (—Ä–µ–∑–µ—Ä–≤)
62052/tcp                  ALLOW IN    Anywhere      # Marzban (—Ä–µ–∑–µ—Ä–≤)
62053/tcp                  ALLOW IN    Anywhere      # Marzban (—Ä–µ–∑–µ—Ä–≤)
[IPv6 –ø—Ä–∞–≤–∏–ª–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Ä—Ç—ã 62050-62053 –∏ 8000 –±—ã–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã —Ä–∞–Ω–µ–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Marzban. –û–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

---

## üìä –°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- **eth0:** –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (37.1.212.51)
- **docker0:** Docker bridge (172.17.0.1)
- **amn0:** Amnezia –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (172.29.172.1)

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
- **–®–ª—é–∑ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **DNS:** –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üõ†Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Marzban:
- ‚úÖ –°–∫–∞—á–∞–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Marzban —á–µ—Ä–µ–∑ Docker
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω docker-compose.yml
- ‚úÖ –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –ó–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä marzban-marzban-1

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π REALITY:
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: `docker exec marzban-marzban-1 xray x25519`
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã Private –∏ Public –∫–ª—é—á–∏
- ‚úÖ –ö–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VLESS + REALITY:
- ‚úÖ –°–æ–∑–¥–∞–Ω JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è inbound
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ Microsoft
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Flow: xtls-rprx-vision
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `/var/lib/marzban/xray_config.json`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞:
- ‚úÖ –û—Ç–∫—Ä—ã—Ç –ø–æ—Ä—Ç 443/tcp –≤ UFW
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Xray
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Flow: xtls-rprx-vision

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤:
- ‚úÖ Marzban –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ Xray core –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

## üì± –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **vless_connection_link.txt**
   - –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ vless://
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

2. **amnezia_config.json**
   - JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Amnezia VPN
   - –° –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –∏ DNS

3. **amnezia_config_fixed.json**
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å HTTP proxy
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

4. **v2ray_config.json**
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è V2Ray/Xray –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

- ‚úÖ –ü–æ—Ä—Ç 443 —Å–ª—É—à–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º xray
- ‚úÖ Marzban –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Xray core –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞ (JSON)
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Amnezia VPN —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ IP –∞–¥—Ä–µ—Å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 37.1.212.51
- ‚úÖ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ VPN

### –õ–æ–≥–∏:
- **Marzban:** `docker logs marzban-marzban-1`
- **Xray:** –õ–æ–≥–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ Marzban
- **–°–∏—Å—Ç–µ–º–∞:** `/var/log/syslog`

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã:

1. **REALITY –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞:**
   - –¢—Ä–∞—Ñ–∏–∫ –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ Microsoft
   - –°–∫—Ä—ã—Ç—ã–π —Ä–µ–∂–∏–º (show: false)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

2. **Flow xtls-rprx-vision:**
   - –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ DPI
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

3. **–§–∞–π—Ä–≤–æ–ª:**
   - –û—Ç–∫—Ä—ã—Ç—ã —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

4. **SSH –¥–æ—Å—Ç—É–ø:**
   - –ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–ó–∞–¥–µ—Ä–∂–∫–∞:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é —Å–µ—Ä–≤–µ—Ä–∞
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (REALITY + Flow vision)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

- **–õ–æ–≥–∏ Marzban:** `docker logs marzban-marzban-1 -f`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:** `docker stats marzban-marzban-1`
- **–°–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫:** `iftop` –∏–ª–∏ `nethogs`

---

## üîÑ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã:

- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray:** –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/var/lib/marzban/xray_config.json.backup.20260112_131539`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–ª—é—á–∏ REALITY –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

### –ß—Ç–æ –ù–ï –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

- ‚úÖ TinyProxy –Ω–∞ –ø–æ—Ä—Ç—É 8080 - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ Amnezia WireGuard –∏ AWG - –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å Amnezia VPN
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å v2rayNG
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å Shadowrocket
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º VLESS + REALITY

---

## üÜò –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
docker ps | grep marzban
netstat -tlnp | grep 443
docker logs marzban-marzban-1 --tail 50
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
```bash
cd /opt/marzban
docker compose restart
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
cat /var/lib/marzban/xray_config.json | python3 -m json.tool
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Marzban
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è VLESS + REALITY
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ Microsoft
4. ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
5. ‚úÖ –û—Ç–∫—Ä—ã—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
6. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
7. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
8. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≤–∫–ª—é—á–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª (UFW)** üîí

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

- **–°–µ—Ä–≤–µ—Ä:** –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- **VPN:** –ê–∫—Ç–∏–≤–µ–Ω –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- **–ü–æ—Ä—Ç—ã:** –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ—Ç–∫—Ä—ã—Ç—ã
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** ‚úÖ –§–∞–π—Ä–≤–æ–ª –≤–∫–ª—é—á–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è
- **–ó–∞—â–∏—Ç–∞:** –°–µ—Ä–≤–µ—Ä –∑–∞—â–∏—â–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º

---

**–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω:** 12 —è–Ω–≤–∞—Ä—è 2026  
**–í–µ—Ä—Å–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω
