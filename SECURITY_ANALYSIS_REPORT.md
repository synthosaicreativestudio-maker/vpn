# ðŸ”’ ÐžÑ‚Ñ‡ÐµÑ‚ Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð° 37.1.212.51

**Ð”Ð°Ñ‚Ð° Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ:** 29 ÑÐ½Ð²Ð°Ñ€Ñ 2026  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑÐºÐ¸Ð»Ð»Ñ‹:** security_auditing, best_practices_search, risk_forecasting, security_preflight

---

## ðŸ“Š Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### 1. **ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÐ·Ð²Ð¸Ð¼Ð¾ÑÑ‚ÑŒ: TinyProxy Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ Ð´Ð»Ñ Ð²ÑÐµÐ³Ð¾ Ð¼Ð¸Ñ€Ð°**
- **Ð¢ÐµÐºÑƒÑ‰Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:** `Allow 0.0.0.0/0` Ð² `/etc/tinyproxy/tinyproxy.conf`
- **ÐŸÐ¾ÑÐ»ÐµÐ´ÑÑ‚Ð²Ð¸Ñ:**
  - 332+ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ñ… IP
  - Ð¡ÐµÑ€Ð²ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÐºÐ°Ðº Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐºÑÐ¸-Ñ…Ð¾ÑÑ‚ÐµÐ»
  - Ð‘Ð¾Ñ‚Ñ‹ Ð¸ ÑÐºÐ°Ð½ÐµÑ€Ñ‹ Ð¾Ð±Ñ…Ð¾Ð´ÑÑ‚ BasicAuth Ñ‡ÐµÑ€ÐµÐ· ÑƒÑ‚ÐµÑ‡ÐºÐ¸ Ð¸Ð»Ð¸ Ð±Ñ€ÑƒÑ‚Ñ„Ð¾Ñ€Ñ
  - Ð˜Ð·Ñ€Ð°Ð¸Ð»ÑŒÑÐºÐ¸Ðµ IP (81.218.83.97) Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ Ð²Ð°Ñˆ ÑÐµÑ€Ð²ÐµÑ€

### 2. **Ð˜ÑÑ‡ÐµÑ€Ð¿Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²**
- **ÐŸÐ°Ð¼ÑÑ‚ÑŒ:** 1 Ð“Ð‘ RAM Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½
- **Swap:** ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ð·Ð°Ð¼ÐµÐ´Ð»ÑÐµÑ‚ Ð²ÑÐµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹
- **ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:** Ð¡Ð¾Ñ‚Ð½Ð¸ Ð¿Ð°Ñ€Ð°Ð·Ð¸Ñ‚Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ Ñ‡ÐµÑ€ÐµÐ· TinyProxy

### 3. **ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð¾Ñ‚ DDoS**
- ÐÐµÑ‚ rate limiting Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ TinyProxy
- ÐÐµÑ‚ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹ Ð½Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ IP
- ÐÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… IP

---

## âœ… Ð Ð•Ð¨Ð•ÐÐ˜Ð¯ (Ð‘Ð•Ð— Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¯Ð½Ð´ÐµÐºÑÐ° Ð¸ Ð¿Ñ€Ð¾ÐºÑÐ¸)

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 1: ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº TinyProxy Ñ‡ÐµÑ€ÐµÐ· UFW**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** TinyProxy Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ñ Ð»ÑŽÐ±Ð¾Ð³Ð¾ IP Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ð¾Ñ€Ñ‚Ñƒ 8080 Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ IP (Ð¸Ð»Ð¸ ÑÐ¿Ð¸ÑÐºÐ° Ð´Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ñ… IP).

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ:
# 1. Ð£Ð·Ð½Ð°Ð¹Ñ‚Ðµ Ð²Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ IP (Ñ Mac)
curl -4 ifconfig.me

# 2. ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ UFW (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ YOUR_IP Ð½Ð° Ð²Ð°Ñˆ IP)
ufw allow from YOUR_IP to any port 8080 proto tcp comment "TinyProxy access"

# 3. Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ñ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… IP (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð°):
ufw allow from IP1 to any port 8080 proto tcp comment "TinyProxy bot1"
ufw allow from IP2 to any port 8080 proto tcp comment "TinyProxy bot2"

# 4. Ð‘Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÐ¼ Ð²ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº 8080
ufw deny 8080/tcp

# 5. ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°
ufw reload
```

**ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° (ÐµÑÐ»Ð¸ IP Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹):** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ fail2ban Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¿Ð¾ÑÐ»Ðµ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ñ‹Ñ… Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº BasicAuth.

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð»Ð¸Ð¼Ð¸Ñ‚Ð¾Ð² Ð² TinyProxy**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐÐµÑ‚ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹ Ð½Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ `MaxClients` Ð¸ `MaxRequests` Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ TinyProxy.

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ /etc/tinyproxy/tinyproxy.conf:

# ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ (Ð´Ð»Ñ MVP-Ð±Ð¾Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ 10-20)
MaxClients 20

# ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ (Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð·Ð»Ð¾ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ðµ)
MaxRequests 100

# Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ Ð½ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ (Ð¾ÑÐ²Ð¾Ð±Ð¾Ð¶Ð´Ð°ÐµÑ‚ Ñ€ÐµÑÑƒÑ€ÑÑ‹)
Timeout 600

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ TinyProxy
systemctl restart tinyproxy
```

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ:**
- `MaxClients: 20` â€” Ð´Ð»Ñ MVP-Ð±Ð¾Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾
- `MaxRequests: 100` â€” Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð·Ð»Ð¾ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð´Ð½Ð¸Ð¼ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸ÐµÐ¼
- `Timeout: 600` â€” Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð½ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· 10 Ð¼Ð¸Ð½ÑƒÑ‚

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 3: Rate Limiting Ñ‡ÐµÑ€ÐµÐ· iptables**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐžÐ´Ð¸Ð½ IP Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ñ‚Ð½Ð¸ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ IP.

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ:

# 1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð´Ð»Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ (5 Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ)
iptables -A INPUT -p tcp --dport 8080 -m state --state NEW -m recent --set
iptables -A INPUT -p tcp --dport 8080 -m state --state NEW -m recent --update --seconds 1 --hitcount 5 -j DROP

# 2. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° (Ubuntu)
iptables-save > /etc/iptables/rules.v4

# 3. Ð”Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ:
apt-get install iptables-persistent -y
```

**ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° (Ñ‡ÐµÑ€ÐµÐ· UFW):** UFW Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ rate limiting Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ iptables Ð¸Ð»Ð¸ fail2ban.

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 4: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° fail2ban**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… IP.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ fail2ban Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð»Ð¾Ð³Ð¾Ð² TinyProxy Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸.

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ:

# 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ fail2ban
apt-get update && apt-get install fail2ban -y

# 2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ Ð´Ð»Ñ TinyProxy
cat > /etc/fail2ban/jail.d/tinyproxy.conf << 'EOF'
[tinyproxy]
enabled = true
port = 8080
filter = tinyproxy
logpath = /var/log/tinyproxy/tinyproxy.log
maxretry = 3
bantime = 3600
findtime = 600
EOF

# 3. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ Ð´Ð»Ñ TinyProxy
cat > /etc/fail2ban/filter.d/tinyproxy.conf << 'EOF'
[Definition]
failregex = ^.*\[WARNING\].*Connection from <HOST> refused.*$
            ^.*\[ERROR\].*Connection from <HOST> failed.*$
ignoreregex =
EOF

# 4. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ fail2ban
systemctl restart fail2ban
systemctl enable fail2ban
```

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 5: ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð°Ð¼ÑÑ‚Ð¸**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** 1 Ð“Ð‘ RAM Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð´Ð»Ñ ÑÐ¾Ñ‚ÐµÐ½ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹.

**Ð ÐµÑˆÐµÐ½Ð¸Ñ:**

#### 5.1. ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Swap
```bash
# Ð£Ð²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ swappiness Ð´Ð»Ñ Ð±Ð¾Ð»ÐµÐµ Ð°Ð³Ñ€ÐµÑÑÐ¸Ð²Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Swap
echo 'vm.swappiness=10' >> /etc/sysctl.conf
sysctl -p
```

#### 5.2. ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð´Ð»Ñ TinyProxy Ñ‡ÐµÑ€ÐµÐ· systemd
```bash
# ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ /etc/systemd/system/tinyproxy.service Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ override:
systemctl edit tinyproxy

# Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ:
[Service]
MemoryLimit=512M
CPUQuota=50%
TasksMax=50

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
systemctl daemon-reload
systemctl restart tinyproxy
```

#### 5.3. ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¿Ð°Ð¼ÑÑ‚Ð¸
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ htop Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
apt-get install htop -y

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ TinyProxy Ð¿Ñ€Ð¸ Ð½ÐµÑ…Ð²Ð°Ñ‚ÐºÐµ Ð¿Ð°Ð¼ÑÑ‚Ð¸
cat > /usr/local/bin/tinyproxy-memory-watchdog.sh << 'EOF'
#!/bin/bash
MEM_USAGE=$(free | grep Mem | awk '{printf "%.0f", $3/$2 * 100}')
if [ $MEM_USAGE -gt 90 ]; then
    systemctl restart tinyproxy
    echo "$(date): TinyProxy restarted due to high memory usage ($MEM_USAGE%)" >> /var/log/tinyproxy-watchdog.log
fi
EOF

chmod +x /usr/local/bin/tinyproxy-memory-watchdog.sh

# Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² crontab (ÐºÐ°Ð¶Ð´Ñ‹Ðµ 5 Ð¼Ð¸Ð½ÑƒÑ‚)
(crontab -l 2>/dev/null; echo "*/5 * * * * /usr/local/bin/tinyproxy-memory-watchdog.sh") | crontab -
```

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 6: Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐÐµÑ‚ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸, ÐºÑ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ñ€Ð¾ÐºÑÐ¸.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°.

```bash
# 1. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² /etc/tinyproxy/tinyproxy.conf:
LogLevel Info
LogFile /var/log/tinyproxy/tinyproxy.log
StatFile /var/log/tinyproxy/tinyproxy.stats

# 2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹
cat > /usr/local/bin/analyze-tinyproxy-connections.sh << 'EOF'
#!/bin/bash
echo "=== Top 10 IP addresses using TinyProxy ==="
grep "Connect" /var/log/tinyproxy/tinyproxy.log | awk '{print $7}' | sort | uniq -c | sort -rn | head -10

echo ""
echo "=== Current active connections ==="
ss -tn | grep :8080 | wc -l

echo ""
echo "=== Memory usage ==="
free -h
EOF

chmod +x /usr/local/bin/analyze-tinyproxy-connections.sh
```

---

### **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 7: Ð—Ð°Ð¼ÐµÐ½Ð° Allow 0.0.0.0/0 Ð½Ð° ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ IP**

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** `Allow 0.0.0.0/0` Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð»Ñ Ð²ÑÐµÐ³Ð¾ Ð¼Ð¸Ñ€Ð°.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ñ… IP (ÐµÑÐ»Ð¸ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹ IP Ð²Ð°ÑˆÐµÐ³Ð¾ Ð±Ð¾Ñ‚Ð°).

```bash
# Ð’ /etc/tinyproxy/tinyproxy.conf:

# Ð£Ð´Ð°Ð»Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð¾ÐºÑƒ:
# Allow 0.0.0.0/0

# Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ IP (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ IP Ð²Ð°ÑˆÐµÐ³Ð¾ Ð±Ð¾Ñ‚Ð°):
Allow 192.168.1.0/24
Allow 10.0.0.0/8
# Ð˜Ð»Ð¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ IP:
Allow 123.45.67.89

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ
systemctl restart tinyproxy
```

**âš ï¸ Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ:** Ð•ÑÐ»Ð¸ IP Ð±Ð¾Ñ‚Ð° Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ UFW Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° (Ð ÐµÑˆÐµÐ½Ð¸Ðµ 1) Ð²Ð¼ÐµÑÑ‚Ð¾ ÑÑ‚Ð¾Ð³Ð¾.

---

## ðŸ“‹ Ð§ÐµÐº-Ð»Ð¸ÑÑ‚ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ

### ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 1 (ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ - Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð½ÐµÐ¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾):
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 1:** ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ð¾Ñ€Ñ‚Ñƒ 8080 Ñ‡ÐµÑ€ÐµÐ· UFW (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ñˆ IP)
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 2:** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ `MaxClients 20` Ð² TinyProxy
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 3:** ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ rate limiting Ñ‡ÐµÑ€ÐµÐ· iptables

### ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 2 (Ð’Ð°Ð¶Ð½Ð¾ - Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð½Ñ):
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 4:** Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ fail2ban
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 5.2:** ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð¿Ð°Ð¼ÑÑ‚ÑŒ Ð´Ð»Ñ TinyProxy Ñ‡ÐµÑ€ÐµÐ· systemd
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 6:** Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 3 (Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ):
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 5.1:** ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ swappiness
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 5.3:** ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ watchdog Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸
- [ ] **Ð ÐµÑˆÐµÐ½Ð¸Ðµ 7:** Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ `Allow 0.0.0.0/0` Ð½Ð° ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ IP (ÐµÑÐ»Ð¸ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹)

---

## ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸

ÐŸÐ¾ÑÐ»Ðµ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:

```bash
# 1. ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ (Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ < 20)
ss -tn | grep :8080 | wc -l

# 2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ð¼ÑÑ‚Ð¸ (Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ < 80%)
free -h

# 3. Ð¡Ñ‚Ð°Ñ‚ÑƒÑ fail2ban
fail2ban-client status tinyproxy

# 4. Ð›Ð¾Ð³Ð¸ TinyProxy (Ð½Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð°ÑÑÐ¾Ð²Ñ‹Ñ… Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹)
tail -f /var/log/tinyproxy/tinyproxy.log
```

---

## âš ï¸ Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

1. **ÐÐµ Ñ‚Ñ€Ð¾Ð³Ð°Ð¹Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¯Ð½Ð´ÐµÐºÑÐ°:** VLESS+Reality Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ 443 Ñ Ð¼Ð°ÑÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¾Ð¹ `taxi.yandex.ru` Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð¸ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹.

2. **ÐÐµ Ð¼ÐµÐ½ÑÐ¹Ñ‚Ðµ ÑÐ°Ð¼ Ð¿Ñ€Ð¾ÐºÑÐ¸:** TinyProxy Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾, Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°.

3. **Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐŸÐµÑ€ÐµÐ´ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±ÑÐºÐ°Ð¿:
   ```bash
   cp /etc/tinyproxy/tinyproxy.conf /etc/tinyproxy/tinyproxy.conf.backup.$(date +%Y%m%d)
   ```

4. **Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð±Ð¾Ñ‚ Ð²ÑÐµ ÐµÑ‰Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐºÑÐ¸:
   ```bash
   curl -x http://root:LEJ6U5chSK@127.0.0.1:8080 https://api.ipify.org
   ```

---

## ðŸ“Š ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹

ÐŸÐ¾ÑÐ»Ðµ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ Ð²ÑÐµÑ… Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹:
- âœ… ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹: **< 20** (Ð²Ð¼ÐµÑÑ‚Ð¾ 332+)
- âœ… Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ð¼ÑÑ‚Ð¸: **< 60%** (Ð²Ð¼ÐµÑÑ‚Ð¾ 100% + Swap)
- âœ… ÐŸÐ¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ IP: **Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÑŽÑ‚ÑÑ** fail2ban
- âœ… ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: **Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°**, Swap Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾
- âœ… Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ: **Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð°**, Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… IP

---

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 29 ÑÐ½Ð²Ð°Ñ€Ñ 2026  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸ÑŽ  
**ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚:** ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹
